lang_sam_tracker:
  ros__parameters:
    # LangSAM
    sam_model: sam2.1_hiera_small
    text_prompt: "white line. road. car. traffic cone."
    box_threshold: 0.3            # 検出(BBox)の信頼度閾値。↑で厳格、↓で検出増(誤検出も増)
    text_threshold: 0.25          # テキスト一致の閾値。↑で厳格、↓で検出増
    detection_interval_sec: 2.0   # 再検出間隔(秒)。↓で頻繁に再検出(計算増)、↑でKLT主体

    # KLT (LK Optical Flow)
    klt_win_size: [31, 31]        # 追跡窓(px)。大きいほど頑健/遅い。速い/大きな動き→[21,21]〜[31,31]、小物→[11,11]〜[15,15]
    klt_max_level: 4              # ピラミッド段数。大きい動き対応↑/計算増。2〜4推奨
    klt_criteria_count: 50        # 反復上限。ノイズ多い/収束悪い→↑(20〜50)
    klt_criteria_eps: 0.01        # 収束許容誤差。小さいほど精密/遅い。0.01〜0.05目安
    klt_min_points: 5             # トラック維持の最低特徴点数。破綻防止。5〜20で調整

    # GFTT (Shi-Tomasi)
    gftt_max_corners: 120         # 初期/再サンプル時の最大特徴点数。↑で安定/計算増。小物:80〜150、大きいシーン:150〜300
    gftt_quality_level: 0.1      # 0〜1の品質閾値。↓で点が増えるがノイズも増。0.005〜0.02で調整
    gftt_min_distance: 3.0        # 特徴点間の最小距離(px)。↓で密/重複↑、↑で疎/安定。3〜10目安